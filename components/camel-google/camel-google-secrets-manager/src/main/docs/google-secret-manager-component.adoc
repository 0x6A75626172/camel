= Google Secret Manager Component
:doctitle: Google Secret Manager
:shortname: google-secret-manager
:artifactid: camel-google-secrets-manager
:description: Manage Google Secret Manager Secrets
:since: 3.16
:supportlevel: Preview
:component-header: Only producer is supported
//Manually maintained attributes
:group: Google
:camel-spring-boot-name: google-secret-manager

*Since Camel {since}*

*{component-header}*

The Google Secret Manager component provides access to https://cloud.google.com/secret-manager/[Google Cloud Secret Manager]

Maven users will need to add the following dependency to their pom.xml
for this component:

[source,xml]
------------------------------------------------------
<dependency>
    <groupId>org.apache.camel</groupId>
    <artifactId>camel-google-secret-manager</artifactId>
    <!-- use the same version as your Camel core version -->
    <version>x.x.x</version>
</dependency>

------------------------------------------------------

[[GoogleSecretManager-AuthenticationConfiguration]]

== Authentication Configuration

Google Secret Manager component authentication is targeted for use with the GCP Service Accounts.
For more information please refer to https://github.com/googleapis/google-cloud-java#authentication[Google Cloud Authentication].

When you have the **service account key** you can provide authentication credentials to your application code.
Google security credentials can be set through the component endpoint:

[source,java]
--------------------------------------------------------
String endpoint = "google-secret-manager://myCamelFunction?serviceAccountKey=/home/user/Downloads/my-key.json";
--------------------------------------------------------

Or by setting the environment variable `GOOGLE_APPLICATION_CREDENTIALS` :

--------------------------------------------------------
export GOOGLE_APPLICATION_CREDENTIALS="/home/user/Downloads/my-key.json"
--------------------------------------------------------


== URI Format

--------------------------------------------------------
google-secret-manager://functionName[?options]
--------------------------------------------------------

You can append query options to the URI in the following format,
`?options=value&option2=value&...`

For example in order to call the function `myCamelFunction` from the project `myProject` and location `us-central1`, use the following snippet:

[source,java]
--------------------------------------------------------------------------------
from("google-secret-manager://myProject?serviceAccountKey=/home/user/Downloads/my-key.json&operation=createSecret")
  .to("direct:test");
--------------------------------------------------------------------------------



// component-configure options: START

// component-configure options: END

// component options: START
include::partial$component-configure-options.adoc[]
include::partial$component-endpoint-options.adoc[]
// component options: END

// endpoint options: START

// endpoint options: END


=== Google Secret Manager Producer operations

Google Functions component provides the following operation on the producer side:

- createSecret

If you don't specify an operation by default the producer will use the `createSecret` operation.


include::spring-boot:partial$starter.adoc[]
