= Message Translator

Camel supports the
http://www.enterpriseintegrationpatterns.com/MessageTranslator.html[Message
Translator] from the xref:enterprise-integration-patterns.adoc[EIP
patterns].

image::eip/MessageTranslator.gif[image]

The Message Translator can be done in different ways in Camel:

* Using xref:transform-eip.adoc[Transform] in the DSL
* Calling a xref:latest@manual:ROOT:processor.adoc[Processor] or xref:latest@manual:ROOT:bean-integration.adoc[bean]
  to perform the transformation
* Using template-based xref:components::index.adoc[Components], with the template being the source for how the message is translated
* Messages can also be transformed using xref:latest@manual:ROOT:data-format.adoc[Data Format]
  to marshal and unmarshal messages in different encodings.

== Example

Each of above approaches is documented in the following examples

=== Message Translator with Bean

You can transform a message using Camels
xref:latest@manual:ROOT:bean-integration.adoc[Bean Integration] to call any method on a bean
that performs the message translation:

[source,java]
----
from("activemq:cheese")
  .bean("myTransformerBean", "doTransform")
  .to("activemq:wine");
----

And in XML:

[source,xml]
----
<route>
    <from uri="activemq:cheese"/>
    <bean ref="myTransformerBean" method="doTransform"/>
    <to uri="activemq:wine"/>
</route>
----

=== Message Translator with Processor

You can also use a xref:latest@manual:ROOT:processor.adoc[Processor] to do
the transformation:

[source,java]
----
from("activemq:cheese")
  .process(new MyTransformerProcessor())
  .to("activemq:wine");
----

And in XML:

[source,xml]
----
<route>
    <from uri="activemq:cheese"/>
    <process ref="myTransformerProcessor"/>
    <to uri="activemq:wine"/>
</route>
----

=== Message Translator using Templating Components

You can also consume a message from one destination, transform it with something like
xref:components::velocity-component.adoc[Velocity] or xref:components::xquery-component.adoc[XQuery] and then send
it on to another destination.

[source,java]
----
from("activemq:cheese")
    .to("velocity:com/acme/MyResponse.vm")
    .to("activemq:wine");
----

And in XML:

[source,xml]
----
<route>
    <from uri="activemq:cheese"/>
    <to uri="velocity:com/acme/MyResponse.vm"/>
    <to uri="activemq:wine"/>
</route>
----

=== Message Translator using Data Format

See xref:marshal-eip.adoc[Marshal] EIP for more details and examples.
